<!DOCTYPE html>
<html class="html">

<head>
  <title>Flex Feedback</title>

  <!-- styles -->
  <link href="https://fonts.googleapis.com/css?family=Lato:300,900|Raleway|Open+Sans" rel="stylesheet">
  <script defer src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>

  <!-- libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.5/jspdf.debug.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>

  <!-- APIs & Code Scripts -->
  <script src="resources/vendors/formBuilder/dist/form-builder.min.js"></script>
  <script src="resources/vendors/formBuilder/dist/form-render.min.js"></script>

  <script src="resources/vendors/jsPDF/jspdf.debug.js"></script>
  <script src="resources/vendors/jsPDF/jspdf.min.js"></script>
  <script src="resources/vendors/jsPDF/jspdf.plugin.autotable.min.js"></script>

  <script src="resources/vendors/xlsx.core.min.js"></script>
  <script src="resources/vendors/FileSaver.js"></script>
  <script src="resources/vendors/tableExport.js"></script>


  <link rel="stylesheet" href="resources/css/normalize.css">
  <link rel="stylesheet" href="resources/css/skeleton.css">

  <script src="resources/js/index.js"></script>
</head>

<!-- logo bar -->

<body>
  <div class="container" style="width: 95%; border-bottom-style: solid; border-bottom-color: var(--main-color)">
    <div class="row">
      <div class="top">
        <div class="flex-logo">
          <h2 style="color: var(--main-color); font: 300; padding-left: 5px; margin-bottom: 0px; text-shadow: 1px 1px #DFE8DA">flexible<b>FEEDBACK</b></h2></div>

        <!-- about page  button-->
        <button class="bright attention-pulse" onclick="window.open('about.html')">?</button>

        <div class="flex-tagline" style="padding-right: 5px; color: var(--main-color); text-shadow: 1px 1px #DFE8DA; margin-bottom: 0"> LET'S GET THIS DONE BEFORE LUNCH</div>

      </div>
    </div>
  </div>

  <!-- tool bar-->
  <div class="container" style="width: 95%; margin-top: 0px">
    <!-- download button-->
    <div class="row">
      <!-- tutorial video
      <button onclick="document.getElementById('tutorialModal').style.display='block'" class="button-accent" style="float: right; cursor: help">Learn How</button>

      <div id="tutorialModal" class="modal">
        <div class="modal-content">
          <div>
            <span id="closeModal" class="button" style="border: none; font-size: large; top: 0; right: 0">&times;</span>
            <video id="tutorialVideo" width="100%" height="auto" controls>
                <source src="resources/img/flexfeedbacktutorial.mp4" type="video/mp4">
              Your browser does not support videos.
              </video>
          </div>
        </div>
      </div>-->


      <!--Tutorial Bar -->
      <div id="tutorial-container" class="tutorial-bar">

        <div hidden id="opened-tutorial">
          <div id="first-page-tutorial">

            <div id="mouse-pointer" class="mouse-pointer"><i class="far fa-hand-pointer" style="font-size: large"></i></div>

            <h5>&#10112; Set up a template</h5>
            <p>Flexible Feedback lets you build a template and use it to efficiently write standardized feedback to students. You'll start by either creating a template, <span id="hover-1" class="learn-more">uploading</span> an existing template, or using
              our <span id="hover-2" class="learn-more">starter template</span>. Hover over the <i class="far fa-question-circle"></i> symbols to learn more about each field type.</p>

            <h5>&#10113; Set up a class list</h5>
            <p>You have the option of setting up a <span id="hover-3" class="learn-more">class list</span>. This will create a table on the next page in which you can store your feedback. This table can be exported as a PDF, Excel file, or Word document.</p>

            <h5>&#10114; Start writing</h5>
            <p>Once your template and class list are ready, click the <span id="hover-4" class="learn-more">USE button</span> to start writing feedback. </p>
          </div>


          <div hidden id="second-page-tutorial">

            <h5>&#10115; Use your template</h5>
            <p>Use the template to write feedback to each student. If you're using a class list, select the student from the dropdown and click <span id="hover-5" class="learn-more">SAVE <i class="far fa-save"></i></span> to copy the feedback to the class
              list. Click the <span id="hover-6" class="learn-more">COPY <i class="fa fa-copy"></i></span> button to save the feedback to your clipboard. To edit your template, class list, or student feedback, click the <span id="hover-7" class="learn-more">EDIT</span>              button at any time. </p>

            <h5>&#10116; Save snippets to the bank</h5>
            <p>If you find yourself writing the same thing over and over, save it to the bank by highlighting text and clicking the <span id="hover-8" class="learn-more">SNIP <i class="fa fa-camera"></i></span> button. You can save the bank to your computer
              with the <span id="hover-9" class="learn-more">DOWNLOAD <i class="fa fa-download"></i></span> button and upload it again later with the <span id="hover-10" class="learn-more">UPLOAD <i class="fa fa-upload"></i></span> button. You can edit
              any snippets by double-clicking or delete a snippet using the <span id="hover-11" class="learn-more">eraser.</span> </p>

          </div>
        </div>

        <div hidden id="collapsed-tutorial">
          <p style="float: right">Open Tutorial</p>
        </div>

        <button id="close-tutorial-button" class="close-tutorial rotate" style="float: right"><i id="close-button-icon" class="fas fa-angle-up"></i></button>
      </div>
    </div>
  </div>

  <!-- toolbar -->
  <div class="container" style="width: 100%;">
    <div class="row" style="margin: 0 2%">

      <!-- Form Builder & Render boxes -->
      <div class="seven columns" style="background-color: var(--bglite-color)">

        <h4 id="templateBuilderLabel" style="text-align: center"><span class="tutorial-numbers" style="font-size: xx-large">&#10112; </span>Template Builder</h4>

        <h4 id="feedbackTemplateLabel" style="text-align: center; display: none"><span class="tutorial-numbers">&#10115; </span>Feedback Template</h4>

        <div>

          <!-- upload form-->
          <form id="uploadForm" style="display: none">
            <input id="uploadInput" type="file" accept="application/json, .json"></input>
            <input id="submitFileButton" type="button" class="button-primary" value="Submit" style="max-width: 110px"></input>
            <input id="cancelFileButton" type="button" class="button-primary" value="Cancel" style="max-width: 110px"></input>
          </form>

          <!-- download button-->

          <button class="button-primary thin" id="download" title="Save this template to your computer"><i class="fa fa-download" style="font-size: large"></i></button>


          <!-- upload button-->
          <button class="button-primary thin" id="uploadButton" title="Upload a saved template from your computer"><i class="fa fa-upload" style="font-size: large"></i></button>


          <!-- recommended button-->

          <button class="button-primary thin" id="recommendedButton" title="Get started with our template"><i class="fas fa-tasks" style="font-size: large"></i></button>

          <button hidden id="editBtn" class="btn btn-default edit-form button-primary thin" style="margin-left: 0" title="Edit this template">EDIT</button>

          <button hidden id="resetBtn" class="btn btn-default clear-form button-primary thin" onclick="clearForm()" title="Clear this form">CLEAR</button>
        </div>

        <div id="build-wrap" class="table-container">
          <div id="fb-editor"></div>

          <div id="fb-rendered-form">
            <form id="testForm" name="testForm" action="#" onchange="previewForm()"></form>
          </div>
        </div>

        <div hidden id="feedbackTableDiv" class="table-container">

          <div id="downloadTableSet">
            <button id="save-table-button" class="button-primary thin" title="Download Table">Save Table</button>

            <div id="download-options" class="button-set">
              <button id="downloadTable" class="button-primary thin" title="Download table as PDF"><i class="far fa-file-pdf" style="font-size: medium"></i>  PDF</button>

              <button id="downloadTableExcel" class="button-primary thin" title="Download table as Excel/XLSX File"><i class="far fa-file-excel" style="font-size: medium"></i>  EXCEL</i></button>

              <button id="downloadTableText" class="button-primary thin" title="Download table as Word/text file"><i class="far fa-file-alt" style="font-size: medium"></i>  WORD</button>
            </div>
          </div>

          <table id="feedbackTable" class="feedbacktable">
            <caption id="tableInstructions" style="text-align: left">To add students to this class list, use <em>Class List Setup</em>.</caption>
            <thead id="thead">
              <tr>
                <th class="delete-button-cell"></th>
                <th style="text-align: left">Student</th>
                <th>Feedback</th>
              </tr>
            </thead>
            <tbody id="tbody">
            </tbody>
          </table>
        </div>
      </div>

      <div id="key" class="one column" style="margin: 0">
        <table class="key-table">
          <tr>
            <td title="Create permanant text that will stay the same for all feedback."><i class="far fa-question-circle"></i></td>
          </tr>
          <tr>
            <td title="Create a short text-entry field in your template."><i class="far fa-question-circle"></i></td>
          </tr>
          <tr>
            <td title="Create a longer text-entry field in your template."><i class="far fa-question-circle"></i></td>
          </tr>
          <tr>
            <td title="Create a list of checkbox options. You can check as many as you want and they result in a bullet-point list."><i class="far fa-question-circle"></i></td>
          </tr>
          <tr>
            <td title="Create a list of radio options. You can only select one per list and it puts that text in-line within the feedback."><i class="far fa-question-circle"></i></td>
          </tr>
          <tr>
            <td>
              <h4 class="tutorial-numbers">&#10114;</h4></td>
          </tr>
        </table>
      </div>

      <!-- Preview and bank -->

      <div id="previewContainer" class="four columns centered">

        <div id="classSetup" class='preview-container'>
          <h4 style="text-align: center; margin-bottom: 0px"><span class="tutorial-numbers">&#10113; </span> Class List Setup</h4>
          <form id="classList">
            <textarea id="students" rows="30" cols="35" placeholder="Enter student names, separated by commas (optional)."></textarea>
          </form>
        </div>

        <div id="rightPane" style="display: none">

          <div hidden id="feedbackPreview" class="preview-container" >
            <div class="row">

              <button hidden id="saveFeedbackToList" class="feedback-button" onclick="saveToTable()" title="Save feedback to student table"><i class="fa fa-save" style="font-size: large"></i></button>

              <button id="copyTextBtn" class="feedback-button" onclick="copyText()" title="Copy feedback to clipboard"><i class="fa fa-copy" style="font-size: large"></i></button>

              <button id="editTextBtn" class="feedback-button" onclick="editText()" title="Edit feedback (will clear any template entries)"><i class="fas fa-pencil-alt" style="font-size: large"></i></button>

              <div hidden id="active-student-dropdown" style="float: left"></div>
            </div>

            <div class="preview-box">
              <div id="preview" class="preview-child" name="preview"></div>
            </div>
          </div>


          <div id="bank-container" class="preview-container">

            <h5 style="text-align: center"><span class="tutorial-numbers">&#10116; </span>Comment Bank</h5>

            <!-- upload form-->
            <form id="bankUploadForm" style="display: none">
              <input id="bankUploadInput" type="file" accept="application/csv, .csv"></input>
              <input id="bankSubmitFileButton" type="button" class="button-primary" value="Submit" style="max-width: 110px" onclick="bankUploadFile()"></input>
              <input id="bankCancelFileButton" type="button" class="button-primary" value="Cancel" style="max-width: 110px" onclick="bankCancelFileUpload()"></input>
            </form>

            <div id="backUpContainer">

              <button class="feedback-button" id="backUpBank" onmousedown="backUpBank()" title="Save this bank to your computer"><i class="fa fa-download" style="font-size: large"></i></button>

              <button class="feedback-button" id="restoreBank" onmousedown="restoreBank()" title="Upload a bank from your computer"><i class="fa fa-upload" style="font-size: large"></i></button>

              <button class="feedback-button" id="saveSelectedText" onmousedown="dndSave()" title="Highlight any text and snap to save it to bank"><i class="fa fa-camera" style="font-size: large"></i></button>


              <div draggable="true" id="trash" class="eraser" title="I'm an eraser, drag me over a bank comment"><i id='trash-icon' class="fas fa-eraser" style="font-size: large"></i></div>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>
</body>

</html>
